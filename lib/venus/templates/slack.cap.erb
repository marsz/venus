namespace :load do
  task :defaults do
    set :slack_team,         ->{ '<%= @team %>' }
    set :slack_webhook,      ->{ '<%= @webhook %>' }
    set :slack_icon_url,     ->{ 'https://slack-assets2.s3-us-west-2.amazonaws.com/5504/img/emoji/1f680.png' }
    set :slack_channel,      ->{ '<%= @room %>' }
    set :slack_username,     ->{ '<%= app_name %>' }
    set :slack_run_starting, ->{ true }
    set :slack_run_finished, ->{ true }
    set :slack_run_failed,   ->{ true }
    set :slack_msg_starting, ->{ "#{ENV['USER'] || ENV['USERNAME']} has started deploying branch #{fetch :branch} of #{fetch :application} to #{fetch :rails_env, 'production'}." }
    set :slack_msg_finished, ->{ "#{ENV['USER'] || ENV['USERNAME']} has finished deploying branch #{fetch :branch} of #{fetch :application} to #{fetch :rails_env, 'production'}." }
    set :slack_msg_failed,   ->{ "*ERROR!* #{ENV['USER'] || ENV['USERNAME']} failed to deploy branch #{fetch :branch} of #{fetch :application} to #{fetch :rails_env, 'production'}." }
    # set :slack_via_slackbot, ->{ false }
    # set :slack_token,        ->{ '<%= @token %>' }
  end
end